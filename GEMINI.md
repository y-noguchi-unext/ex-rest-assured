# このプロジェクトについて

このプロジェクトでは、REST APIのテストケースを実装し、管理することを目的としています。

# 使用している技術

- java21
- gradle
- rest-assured

# テストの実装ガイド

- まず、ユーザーから提示されるswagger.jsonまたはopenapi.jsonを読み込みます。提示されない場合は、確認をしてください。
- APIごとにテストクラスを作成します。
- テストクラスには、以下の3つの観点のテストケースを作成します。観点は3つですが、すべてのパターンを網羅するため、テストケース数は3つよりも多くなる可能性があります。
  - 正常なリクエストを送った場合、期待した通りのレスポンスが返ってくること
  - バリデーションが正しく設定されていること（誤った値をセットしリクエストを送った場合、エラーが返ってくること）
  - 不正なリクエストを送った場合、期待したエラーが返ってくること（存在しないIDを指定して更新した場合など）
- テストの実装にはjava21を用います。従って、可能な限りモダンな記法を用いるようにしてください。以下はその例です。
  - ローカル変数の型はvarを用いて宣言すること。
  - 改行を含む文字列は `"""` を用いてテキストブロックを用いること。
  - 単純なDTOにはrecordを用いること。
- リクエストボディなど、JSONを記述する場合には、テキストブロックを用いてください。
- テストケースとコメントは日本語で書くようにしてください。
- テストケースは `(条件)の場合_(結果)になること` というフォーマットに統一してください。 e.g. すべて正しくボディを指定した場合成功レスポンスが返ってくること
- APIのリクエストとレスポンスをログに出力するようにしてください。
- テストクラスを実装するたびに、以下を実行してください。
  - 実装ガイドに反した実装がないかチェックし、ある場合は修正する。
  - テストを実行し、テストが通ることを確認する。通らない場合は、通るまで修正をしてください。
- 3回修正を試してもテストが通らない場合、問題点をまとめた上で、一度処理をやめるようにしてください。


# 実装例

```
    @Test
    void すべて正しくボディを指定した場合_成功レスポンスが返ってくること() {
        var requestBody = """
            {
              "category": {
                "id": 1,
                "name": "Dogs"
              },
              "name": "doggie",
              "photoUrls": [
                "string"
              ],
              "tags": [
                {
                  "id": 0,
                  "name": "string"
                }
              ],
              "status": "available"
            }
            """;

        given()
            .contentType(ContentType.JSON)
            .body(requestBody)
            .log().all()
        .when()
            .post("/pet")
        .then()
            .log().all()
            .statusCode(200)
            .body("id", allOf(notNullValue(), is(instanceOf(Long.class))))
            .body("name", equalTo("doggie"))
            .body("status", equalTo("available"));
    }
```